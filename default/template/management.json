{"apiVersion":"v1","kind":"Template","labels":{},"metadata":{"annotations":{"fabric8.elasticsearch/iconUrl":"https://cdn.rawgit.com/fabric8io/quickstarts/master/apps/elasticsearch/src/main/fabric8/icon.png","description":"Provides centralised [Management features](http://fabric8.io/guide/management.htm) like [Logging](http://fabric8.io/guide/logging.html) and [Metrics](http://fabric8.io/guide/metrics.html)\n","fabric8.elasticsearch/summary":"[elasticsearch](http://elasticsearch.com/) provides distributed RESTful search and analytics","fabric8.kibana/summary":"Awesome front-end for Elasticsearch","fabric8.kibana/iconUrl":"https://cdn.rawgit.com/fabric8io/quickstarts/master/apps/kibana/src/main/fabric8/icon.svg","fabric8.logging/summary":"Sonatype helps open source projects to set up Maven repositories on https://oss.sonatype.org/","fabric8.logging/iconUrl":"https://cdn.rawgit.com/fabric8io/quickstarts/master/app-groups/logging/src/main/fabric8/icon.svg","fabric8.influxdb/summary":"[InfluxDB](http://influxdb.com/) database for storing historical metrics","fabric8.influxdb/iconUrl":"https://cdn.rawgit.com/fabric8io/quickstarts/master/apps/influxdb/src/main/fabric8/icon.png","fabric8.grafana/iconUrl":"https://cdn.rawgit.com/fabric8io/quickstarts/master/apps/grafana/src/main/fabric8/icon.png","fabric8.grafana/summary":"[Grafana](http://grafana.org/) console for viewing metrics stored in InfluxDB or Cassandra","fabric8.heapster/iconUrl":"https://cdn.rawgit.com/fabric8io/quickstarts/master/apps/heapster/src/main/fabric8/icon.svg","fabric8.heapster/summary":"Heapster enables monitoring of Clusters using cAdvisor.","fabric8.metrics/summary":"Sonatype helps open source projects to set up Maven repositories on https://oss.sonatype.org/","fabric8.metrics/iconUrl":"https://cdn.rawgit.com/fabric8io/quickstarts/master/app-groups/metrics/src/main/fabric8/icon.png","fabric8.management/summary":"Sonatype helps open source projects to set up Maven repositories on https://oss.sonatype.org/","fabric8.management/iconUrl":"https://cdn.rawgit.com/fabric8io/quickstarts/master/app-groups/management/src/main/fabric8/icon.svg"},"labels":{},"name":"management"},"objects":[{"apiVersion":"v1","kind":"Service","metadata":{"annotations":{},"labels":{"component":"elasticsearch","provider":"fabric8"},"name":"elasticsearch"},"spec":{"deprecatedPublicIPs":[],"ports":[{"port":9200,"protocol":"TCP","targetPort":9200}],"selector":{"component":"elasticsearch","provider":"fabric8"},"type":"LoadBalancer"}},{"apiVersion":"v1","kind":"Service","metadata":{"annotations":{},"labels":{},"name":"elasticsearch-cluster"},"spec":{"clusterIP":"None","deprecatedPublicIPs":[],"ports":[{"name":"","port":9300,"protocol":"TCP","targetPort":9300}],"selector":{"component":"elasticsearch","provider":"fabric8"}}},{"apiVersion":"v1","kind":"Service","metadata":{"annotations":{},"labels":{"component":"grafana","provider":"fabric8"},"name":"grafana"},"spec":{"deprecatedPublicIPs":[],"ports":[{"port":80,"protocol":"TCP","targetPort":"http"}],"selector":{"component":"grafana","provider":"fabric8"},"type":"LoadBalancer"}},{"apiVersion":"v1","kind":"Service","metadata":{"annotations":{},"labels":{"component":"influxdb","provider":"fabric8"},"name":"influxdb"},"spec":{"deprecatedPublicIPs":[],"ports":[{"port":8086,"protocol":"TCP","targetPort":8086}],"selector":{"component":"influxdb","provider":"fabric8"},"type":"LoadBalancer"}},{"apiVersion":"v1","kind":"Service","metadata":{"annotations":{},"labels":{"component":"kibana","provider":"fabric8"},"name":"kibana"},"spec":{"deprecatedPublicIPs":[],"ports":[{"port":80,"protocol":"TCP","targetPort":5601}],"selector":{"component":"kibana","provider":"fabric8"},"type":"LoadBalancer"}},{"apiVersion":"v1","kind":"ReplicationController","metadata":{"annotations":{},"labels":{"component":"elasticsearch","provider":"fabric8"},"name":"elasticsearch"},"spec":{"replicas":1,"selector":{"component":"elasticsearch","provider":"fabric8"},"template":{"metadata":{"annotations":{},"labels":{"component":"elasticsearch","provider":"fabric8"}},"spec":{"containers":[{"args":[],"command":[],"env":[{"name":"SERVICE_DNS","value":"elasticsearch-cluster"},{"name":"KUBERNETES_TRUST_CERT","value":"true"},{"name":"KUBERNETES_NAMESPACE","valueFrom":{"fieldRef":{"fieldPath":"metadata.namespace"}}}],"image":"docker.io/fabric8/elasticsearch-k8s:1.5.2","livenessProbe":{"initialDelaySeconds":60,"tcpSocket":{"port":9300}},"name":"elasticsearch","ports":[{"containerPort":9200,"name":"http"},{"containerPort":9300,"name":"transport"}],"readinessProbe":{"httpGet":{"path":"/_template/logstash","port":9200},"initialDelaySeconds":60},"securityContext":{},"volumeMounts":[{"mountPath":"/usr/share/elasticsearch/data","name":"elasticsearch-data","readOnly":false}]},{"args":[],"command":[],"env":[],"image":"fabric8/elasticsearch-logstash-template:2.2.19","name":"logstash-template","ports":[],"volumeMounts":[]}],"imagePullSecrets":[],"nodeSelector":{},"volumes":[{"emptyDir":{"medium":""},"name":"elasticsearch-data"}]}}}},{"apiVersion":"v1","kind":"ReplicationController","metadata":{"annotations":{},"labels":{"component":"grafana","provider":"fabric8"},"name":"grafana"},"spec":{"replicas":1,"selector":{"component":"grafana","provider":"fabric8"},"template":{"metadata":{"annotations":{},"labels":{"component":"grafana","provider":"fabric8"}},"spec":{"containers":[{"args":[],"command":[],"env":[{"name":"INFLUXDB_SERVICE_NAME","value":"INFLUXDB"},{"name":"GRAFANA_DEFAULT_DASHBOARD","value":"/dashboard/file/kubernetes.json"},{"name":"KUBERNETES_NAMESPACE","valueFrom":{"fieldRef":{"fieldPath":"metadata.namespace"}}}],"image":"docker.io/fabric8/grafana:1.9.1_2","name":"grafana","ports":[{"containerPort":3000,"name":"http"}],"securityContext":{},"volumeMounts":[]}],"imagePullSecrets":[],"nodeSelector":{},"volumes":[]}}}},{"apiVersion":"v1","kind":"ReplicationController","metadata":{"annotations":{},"labels":{"component":"heapster","provider":"fabric8"},"name":"heapster"},"spec":{"replicas":1,"selector":{"component":"heapster","provider":"fabric8"},"template":{"metadata":{"annotations":{},"labels":{"component":"heapster","provider":"fabric8"}},"spec":{"containers":[{"args":["-source=kubernetes:https://kubernetes.default.svc.cluster.local?auth=&insecure=true&useServiceAccount=true","-sink=influxdb:http://influxdb.default.svc.cluster.local:8086"],"command":[],"env":[{"name":"KUBERNETES_NAMESPACE","valueFrom":{"fieldRef":{"fieldPath":"metadata.namespace"}}}],"image":"kubernetes/heapster:V0.14.2","name":"heapster","ports":[],"securityContext":{},"volumeMounts":[]}],"imagePullSecrets":[],"nodeSelector":{},"serviceAccountName":"metrics","volumes":[]}}}},{"apiVersion":"v1","kind":"ReplicationController","metadata":{"annotations":{},"labels":{"component":"influxdb","provider":"fabric8"},"name":"influxdb"},"spec":{"replicas":1,"selector":{"component":"influxdb","provider":"fabric8"},"template":{"metadata":{"annotations":{},"labels":{"component":"influxdb","provider":"fabric8"}},"spec":{"containers":[{"args":[],"command":[],"env":[{"name":"PRE_CREATE_DB","value":"cadvisor;k8s;grafana"},{"name":"KUBERNETES_NAMESPACE","valueFrom":{"fieldRef":{"fieldPath":"metadata.namespace"}}}],"image":"docker.io/fabric8/influxdb:0.8.8","name":"influxdb","ports":[{"containerPort":8083,"name":"admin"},{"containerPort":8086,"name":"api"},{"containerPort":8099,"name":"protobuf"},{"containerPort":8084,"name":"ssl"},{"containerPort":8090,"name":"raft"}],"securityContext":{},"volumeMounts":[{"mountPath":"/data","name":"influxdb-data","readOnly":false}]}],"imagePullSecrets":[],"nodeSelector":{},"volumes":[{"emptyDir":{"medium":""},"name":"influxdb-data"}]}}}},{"apiVersion":"v1","kind":"ReplicationController","metadata":{"annotations":{},"labels":{"component":"kibana","provider":"fabric8"},"name":"kibana"},"spec":{"replicas":1,"selector":{"component":"kibana","provider":"fabric8"},"template":{"metadata":{"annotations":{},"labels":{"component":"kibana","provider":"fabric8"}},"spec":{"containers":[{"args":[],"command":[],"env":[{"name":"ELASTICSEARCH_SERVICE_NAME","value":"ELASTICSEARCH"},{"name":"KUBERNETES_NAMESPACE","valueFrom":{"fieldRef":{"fieldPath":"metadata.namespace"}}}],"image":"docker.io/fabric8/kibana4:4.1.0","livenessProbe":{"tcpSocket":{"port":5601}},"name":"kibana","ports":[{"containerPort":5601,"name":"http"}],"securityContext":{},"volumeMounts":[]},{"args":[],"command":[],"env":[{"name":"ELASTICSEARCH_SERVICE_NAME","value":"ELASTICSEARCH"},{"name":"KUBERNETES_NAMESPACE","valueFrom":{"fieldRef":{"fieldPath":"metadata.namespace"}}}],"image":"fabric8/kibana-config:2.2.19","name":"kibana-config","ports":[],"volumeMounts":[]}],"imagePullSecrets":[],"nodeSelector":{},"volumes":[]}}}}],"parameters":[]}